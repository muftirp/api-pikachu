<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button type="button" onclick="fetchData()">Fetch data</button>
    <div id="progate">
 
    </div>
</body>
<script>
    function fetchData() {
    //membuat objek XMLHttpRequest untuk mengambil data ke server yang dituju
    const xhttp = new XMLHttpRequest(); //membuat objek XMLHttpRequest
    const url = "https://pokeapi.co/api/v2/pokemon?limit=10"; //URL yang akan dituju
    const httpMethod = "GET"; //method yang digunakan
    //membuat sebuah callback function
    xhttp.onload = function() {   //membuat callback function
        // apa yang kita lakukan ketika response telah tersedia
        
        const response = JSON.parse(this.responseText);  //mengubah string response menjadi object
        //console.log(response);
        const results = response.results;   //mengambil array results dari response
        //console.log(results);
        let data = '';  //membuat variabel data untuk menampung string yang akan ditampilkan di #progate
        for (let i = 0; i < results.length; i++) { //   mengulangi setiap item dari array results
            data = data + `<p>${results[i].name}</p>`; //   menambahkan string yang akan ditampilkan di #progate
        }
         document.getElementById("progate").innerHTML = data; //menampilkan data ke dalam element dengan id "progate"

        
        // console.log(this.responseText);
    };
    //mengirim request ke server
        xhttp.open(httpMethod, url);
        xhttp.send();
};
</script>
</html>
